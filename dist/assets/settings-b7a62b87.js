import{c as xe,j as I,n as ge,a as ve,k as he,p as d,d as be,l as ye,i as c,f as u,L as we,w as K,e as A,s as t,S as Se,h as ke,t as $}from"./index-629dd9a8.js";import{S as _}from"./switch-b1aadb62.js";var Ce=$("<button s:my-prefix-afa746f4-0>"),Ne=$('<div class="settings-container fadein"s:my-prefix-afa746f4-0><div class=table-header s:my-prefix-afa746f4-0><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>SETTING</p></div><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>ACTION</p></div></div><div class=table-data s:my-prefix-afa746f4-0><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>SOUND</p></div><div class=table-column s:my-prefix-afa746f4-0><input type=range class=range s:my-prefix-afa746f4-0></div></div><div class=table-data s:my-prefix-afa746f4-0><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>ANONYMOUS MODE</p></div><div class=table-column s:my-prefix-afa746f4-0></div></div><div class=table-data s:my-prefix-afa746f4-0><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>CHAT MENTIONS</p></div><div class=table-column s:my-prefix-afa746f4-0></div></div><div class=table-data s:my-prefix-afa746f4-0><div class=table-column s:my-prefix-afa746f4-0><p s:my-prefix-afa746f4-0>LINK DISCORD');const Ie="my-prefix-afa746f4-0",Ae='.settings-container[s\\:my-prefix-afa746f4-0]{width:100%;max-width:1175px;height:-moz-fit-content;height:fit-content;box-sizing:border-box;padding:30px 0;margin:0 auto}.bar[s\\:my-prefix-afa746f4-0]{width:100%;height:1px;min-height:1px;background:#5A5499}.table-header[s\\:my-prefix-afa746f4-0]{margin-bottom:20px}.table-header[s\\:my-prefix-afa746f4-0],.table-data[s\\:my-prefix-afa746f4-0]{display:flex;justify-content:space-between}.table-data[s\\:my-prefix-afa746f4-0]{height:55px;background:rgba(90,84,153,0.35);padding:0 20px;display:flex;align-items:center;color:#ADA3EF;font-size:14px;font-weight:600}.table-data[s\\:my-prefix-afa746f4-0]:nth-of-type(2n){background:rgba(90,84,153,0.15)}.table-column[s\\:my-prefix-afa746f4-0]{display:flex;align-items:center;gap:8px;flex:1 1 0;text-transform:uppercase}.table-column[s\\:my-prefix-afa746f4-0]:nth-of-type(2n){justify-content:flex-end}.table-header[s\\:my-prefix-afa746f4-0] p[s\\:my-prefix-afa746f4-0]{background:rgba(90,84,153,0.35);height:25px;line-height:25px;padding:0 15px;border-radius:2px;color:#ADA3EF;font-size:12px;font-weight:700;text-transform:uppercase}.range[s\\:my-prefix-afa746f4-0]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:25px;background:#2B284E;max-width:190px;height:9px;//margin-right:auto}.range[s\\:my-prefix-afa746f4-0]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:15px;height:15px;background:white;cursor:pointer;border-radius:50%}.range[s\\:my-prefix-afa746f4-0]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:15px;height:15px;background:white;cursor:pointer;border-radius:50%}.link[s\\:my-prefix-afa746f4-0]{width:70px;height:25px}.unlink[s\\:my-prefix-afa746f4-0]{width:70px;height:25px;outline:unset;border:unset;cursor:pointer;color:#FFF;font-family:"Geogrotesque Wide",sans-serif;font-size:12px;font-weight:700;border-radius:3px;background:#E85959;box-shadow:0px 1px 0px 0px #AF2525,0px -1px 0px 0px #FF7A7A}@media only screen and (max-width:1000px){.settings-container[s\\:my-prefix-afa746f4-0]{padding-bottom:90px}}';function De(Ee){const a=xe();let o;const[p,M]=I(localStorage.getItem("mentions")==="true"),[P,{mutate:E}]=ge(B),[m,x]=I(!1),[g,T]=I(localStorage.getItem("sound")||100),[f,{mutateUser:j}]=ve();he(()=>{localStorage.getItem("sound")||(localStorage.setItem("sound",100),T(100)),localStorage.getItem("mentions")===void 0&&localStorage.setItem("mentions",!0),g()&&G()});async function B(){try{let r=await d("/discord","GET",null);return r.status==="LINKED"&&x(!0),E(r)}catch(r){return console.log(r),E(null)}}function G(){let r=(o.value-0)/100*100;o.style.background="linear-gradient(to right, #5F5CA6 0%, #5F5CA6 "+r+"%, #2B284E "+r+"%, #2B284E 100%)"}return be(Ie,1,Ae),(()=>{var r=Ne(),v=r.firstChild,h=v.firstChild,R=h.firstChild,O=h.nextSibling,W=O.firstChild,b=v.nextSibling,y=b.firstChild,q=y.firstChild,D=y.nextSibling,n=D.firstChild,w=b.nextSibling,S=w.firstChild,H=S.firstChild,F=S.nextSibling,k=w.nextSibling,C=k.firstChild,J=C.firstChild,L=C.nextSibling,N=k.nextSibling,z=N.firstChild,V=z.firstChild;n.$$input=e=>{T(e.target.valueAsNumber),localStorage.setItem("sound",g())};var U=o;return typeof U=="function"?ye(U,n):o=n,c(F,u(_,{dark:!0,get active(){return f()?.anon},toggle:async()=>{(await d("/user/anon","POST",JSON.stringify({enable:!f()?.anon}))).success&&j({...f(),anon:!f()?.anon})}})),c(L,u(_,{dark:!0,get active(){return p()},toggle:async()=>{M(!p()),localStorage.setItem("mentions",p())}})),c(N,u(Se,{get when(){return!P.loading},get fallback(){return u(we,{type:"small"})},get children(){var e=Ce();return e.$$click=async()=>{if(m()){let s=await d("/discord/unlink","POST",null,!0);(s.status==="NOT_LINKED"||s.status==="UNLINKED"||s.success)&&(K("success","Successfully unlinked your discord"),x(!1));return}let i=await d("/discord/link","POST",null,!0);if(i.error){K("error",i.error||"Discord linking is not available");return}if(i.url){let s=window.open(i.url,"popUpWindow","height=700,width=500,left=100,top=100,resizable=yes,scrollbar=yes");window.addEventListener("message",function(l){l.data.type==="discord"&&(s.close(),x(!0))},!1)}},c(e,()=>m()?"UNLINK":"LINK"),A(i=>{var s=m()?"unlink":"bevel-gold link",l=a();return s!==i.e&&(e.className=i.e=s),i.t=t(e,l,i.t),i},{e:void 0,t:void 0}),e}}),null),A(e=>{var i=a(),s=a(),l=a(),Y=a(),Q=a(),X=a(),Z=a(),ee=a(),ae=a(),te=a(),ie=a(),re=a(),se=a(),ne=a(),le=a(),oe=a(),fe=a(),de=a(),ce=a(),ue=a(),pe=a(),me=a();return e.e=t(r,i,e.e),e.t=t(v,s,e.t),e.a=t(h,l,e.a),e.o=t(R,Y,e.o),e.i=t(O,Q,e.i),e.n=t(W,X,e.n),e.s=t(b,Z,e.s),e.h=t(y,ee,e.h),e.r=t(q,ae,e.r),e.d=t(D,te,e.d),e.l=t(n,ie,e.l),e.u=t(w,re,e.u),e.c=t(S,se,e.c),e.w=t(H,ne,e.w),e.m=t(F,le,e.m),e.f=t(k,oe,e.f),e.y=t(C,fe,e.y),e.g=t(J,de,e.g),e.p=t(L,ce,e.p),e.b=t(N,ue,e.b),e.T=t(z,pe,e.T),e.A=t(V,me,e.A),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),A(()=>n.value=g()),r})()}ke(["input","click"]);export{De as default};
