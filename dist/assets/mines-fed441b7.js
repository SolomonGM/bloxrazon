import{h as Ae,c as Ne,j as h,k as je,p as re,d as Se,e as F,s as r,t as B,z as Xe,a as He,n as Je,f as z,T as Ve,M as Fe,i as p,F as Ee,m as fe,w as k,g as Ke,B as Qe}from"./index-629dd9a8.js";import{f as U}from"./numbers-ef90d499.js";var Ze=B('<div s:my-prefix-35c340cb-0><img src=/assets/icons/minesgem.png class="popin gem-img"alt s:my-prefix-35c340cb-0><img src=/assets/icons/greensparkles.png class="popin green-sparkles"alt s:my-prefix-35c340cb-0><img src=/assets/icons/bomb.png class="popin bomb-img"alt s:my-prefix-35c340cb-0><img src=/assets/icons/purplesparkles.png class="popin purple-sparkles"alt s:my-prefix-35c340cb-0>');const ei="my-prefix-35c340cb-0",ii='.mine[s\\:my-prefix-35c340cb-0]{aspect-ratio:1;width:100%;background:linear-gradient(135deg,#3E3771 0%,#3A3466 100%);border-radius:10px;border-top:3px solid #4D4686;border-left:3px solid #4D4686;border-right:3px solid #2D2852;border-bottom:3px solid #2D2852;transition:all .2s cubic-bezier(0.4,0,0.2,1);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0px 4px 12px rgba(0,0,0,0.3),inset 0px 1px 0px rgba(255,255,255,0.05)}.mine[s\\:my-prefix-35c340cb-0]::before{content:"";position:absolute;inset:0;border-radius:10px;padding:1px;background:linear-gradient(135deg,rgba(173,163,239,0.15),rgba(173,163,239,0.02));-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;opacity:0;transition:opacity 0.2s}.mine[s\\:my-prefix-35c340cb-0]:hover{background:linear-gradient(135deg,#4D4686 0%,#463F7B 100%);transform:translateY(-3px);box-shadow:0px 6px 16px rgba(0,0,0,0.4),inset 0px 1px 0px rgba(255,255,255,0.08)}.mine[s\\:my-prefix-35c340cb-0]:hover::before{opacity:1}.mine[s\\:my-prefix-35c340cb-0]:active{transform:translateY(-1px)}.mine[s\\:my-prefix-35c340cb-0].animate{animation:infinite my-prefix-35c340cb-0-pulseGlow .5s}.mine[s\\:my-prefix-35c340cb-0].gem:not(.active[s\\:my-prefix-35c340cb-0]),.mine[s\\:my-prefix-35c340cb-0].bomb:not(.active[s\\:my-prefix-35c340cb-0]){opacity:0.4;filter:grayscale(0.3)}.mine[s\\:my-prefix-35c340cb-0].gem{border-radius:10px;border:2px solid #59E878;background:radial-gradient(139.03% 139.03%at 50% 50%,rgba(0,255,26,0.55) 0%,rgba(0,0,0,0.00) 100%),linear-gradient(0deg,rgba(11,12,11,0.35) 0%,rgba(11,12,11,0.35) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%);box-shadow:0px 2px 7px 0px rgba(0,0,0,0.25) inset,0px 0px 32px 0px rgba(10,182,47,0.65) inset,0px 4px 20px rgba(89,232,120,0.4);animation:my-prefix-35c340cb-0-gemAppear 0.4s cubic-bezier(0.34,1.56,0.64,1)}.mine[s\\:my-prefix-35c340cb-0].gem::before{background:linear-gradient(135deg,rgba(89,232,120,0.3),rgba(89,232,120,0.1));opacity:1}.mine[s\\:my-prefix-35c340cb-0].bomb{border-radius:10px;border:2px solid rgba(173,4,221,0.5);background:linear-gradient(180deg,rgba(173,4,221,0.25) 0%,rgba(0,0,0,0.00) 100%),linear-gradient(0deg,rgba(18,16,36,0.75) 0%,rgba(18,16,36,0.75) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%);box-shadow:0px 2px 7px 0px rgba(0,0,0,0.25) inset,0px 0px 32px 0px rgba(66,36,207,0.35) inset,0px 4px 20px rgba(173,4,221,0.3);animation:my-prefix-35c340cb-0-bombAppear 0.4s cubic-bezier(0.34,1.56,0.64,1)}.mine[s\\:my-prefix-35c340cb-0].bomb::before{background:linear-gradient(135deg,rgba(173,4,221,0.3),rgba(173,4,221,0.1));opacity:1}@keyframes my-prefix-35c340cb-0-gemAppear{0%{transform:scale(0.7) rotate(-10deg);opacity:0}50%{transform:scale(1.05) rotate(5deg)}100%{transform:scale(1) rotate(0deg);opacity:1}}@keyframes my-prefix-35c340cb-0-bombAppear{0%{transform:scale(0.5);opacity:0}50%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}.popin[s\\:my-prefix-35c340cb-0]{opacity:0;transform:scale(0.6);transition:opacity .35s cubic-bezier(0.34,1.56,0.64,1),transform .35s cubic-bezier(0.34,1.56,0.64,1);position:absolute}.gem-img[s\\:my-prefix-35c340cb-0]{height:100%;filter:drop-shadow(0px 4px 12px rgba(89,232,120,0.6))}.bomb-img[s\\:my-prefix-35c340cb-0]{height:75%;filter:drop-shadow(0px 4px 12px rgba(173,4,221,0.6))}.purple-sparkles[s\\:my-prefix-35c340cb-0]{height:105%;animation:my-prefix-35c340cb-0-sparkleRotate 4s linear infinite}.green-sparkles[s\\:my-prefix-35c340cb-0]{width:95%;animation:my-prefix-35c340cb-0-sparkleRotate 4s linear infinite reverse}@keyframes my-prefix-35c340cb-0-sparkleRotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.gem[s\\:my-prefix-35c340cb-0] .gem-img[s\\:my-prefix-35c340cb-0].popin,.gem[s\\:my-prefix-35c340cb-0] .green-sparkles[s\\:my-prefix-35c340cb-0].popin,.bomb[s\\:my-prefix-35c340cb-0] .bomb-img[s\\:my-prefix-35c340cb-0],.bomb[s\\:my-prefix-35c340cb-0] .purple-sparkles[s\\:my-prefix-35c340cb-0].popin{opacity:1;transform:scale(1)}@keyframes my-prefix-35c340cb-0-pulseGlow{0%{transform:scale(1);box-shadow:0px 4px 12px rgba(0,0,0,0.3),inset 0px 1px 0px rgba(255,255,255,0.05)}50%{transform:scale(1.08);box-shadow:0px 6px 20px rgba(173,163,239,0.4),inset 0px 1px 0px rgba(255,255,255,0.1)}100%{transform:scale(1);box-shadow:0px 4px 12px rgba(0,0,0,0.3),inset 0px 1px 0px rgba(255,255,255,0.05)}}';function ri(n){const i=Ne(),[m,y]=h(!1),[$,N]=h(null),[g,v]=h(null);let te=new Audio("/assets/sfx/mine.mp3"),P=new Audio("/assets/sfx/tile0.mp3"),o=new Audio("/assets/sfx/tile1.mp3"),S=new Audio("/assets/sfx/tile2.mp3");je(()=>{(g()||$())&&!n?.game?.active&&(N(!1),v(!1)),n?.game?.active&&n?.random===n?.index&&!m()&&C(n?.index)});async function C(s){if(!n?.game||!n?.game.active||m()||n?.revealed.includes(s))return;y(!0),N(!0);let b=await re("/mines/reveal","POST",JSON.stringify({field:s}),!0);if(!b.success)return y(!1);v(b)}function j(s){try{if(console.log("[MINES] Reveal response:",s),s.success&&s.payout&&s.minePositions&&!s.isMine)return n?.setRevealed([...n?.revealed,n?.index]),n?.cashoutGame(s);s.isMine?(n?.setGame({...n?.game,active:!1}),n?.setBombs(s.minePositions||[]),n?.setRevealed(s.revealedTiles||[]),te.play()):(console.log("[MINES] Updating revealed tiles:",s.revealedTiles,"Multiplier:",s.multiplier),n?.setRevealed(s.revealedTiles||[]),n?.setGame({...n?.game,multiplier:s.multiplier,currentPayout:s.currentPayout,active:!0}),n?.revealed.length<8?P.play():n?.revealed.length<16?o.play():S.play()),N(null),v(null),y(!1)}catch(b){console.error("ERROR WITH MINES ",b);return}}function ae(s){let b="";return n?.bombs.includes(s)&&(b+=" bomb"),n?.revealed.includes(s)&&(b+=" active"),b.includes("active")&&!b.includes("bomb")?" gem active":b===""&&n?.game&&!n?.game.active?" gem":b}return Se(ei,1,ii),(()=>{var s=Ze(),b=s.firstChild,X=b.nextSibling,H=X.nextSibling,J=H.nextSibling;return s.addEventListener("animationiteration",x=>{g()&&j(g())}),s.$$click=()=>C(n?.index),F(x=>{var V="mine"+ae(n?.index)+($()?" animate":""),K=i(),t=i(),c=i(),G=i(),ne=i();return V!==x.e&&(s.className=x.e=V),x.t=r(s,K,x.t),x.a=r(b,t,x.a),x.o=r(X,c,x.o),x.i=r(H,G,x.i),x.n=r(J,ne,x.n),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s})()}Ae(["click"]);var ti=B('<div class="mines-container fadein"s:my-prefix-2187fbbc-0><div class=betting-container s:my-prefix-2187fbbc-0><div class=betting-header s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0>BET INTERFACE</p></div><div class=inputs s:my-prefix-2187fbbc-0><div class=input-wrapper s:my-prefix-2187fbbc-0><div class=input-header s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0>BET AMOUNT</p></div><div class=input-container s:my-prefix-2187fbbc-0><img src=/assets/icons/coin.svg height=14 width=14 alt s:my-prefix-2187fbbc-0><input type=number placeholder=0 s:my-prefix-2187fbbc-0><button class="bevel-light modifier"s:my-prefix-2187fbbc-0>1/2</button><button class="bevel-light modifier"s:my-prefix-2187fbbc-0>2X</button><button class="bevel-light modifier"s:my-prefix-2187fbbc-0>MAX</button></div></div><div class=input-wrapper s:my-prefix-2187fbbc-0><div class=input-header s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0>AMOUNT OF MINES</p></div><div class="input-container select-container"s:my-prefix-2187fbbc-0><select class=mines-select s:my-prefix-2187fbbc-0></select><svg class=dropdown-arrow width=12 height=8 viewBox="0 0 12 8"fill=none s:my-prefix-2187fbbc-0><path d="M1 1L6 6L11 1"stroke=currentColor stroke-width=2 stroke-linecap=round s:my-prefix-2187fbbc-0></path></svg></div></div><button s:my-prefix-2187fbbc-0></button></div></div><div class=mines-content s:my-prefix-2187fbbc-0><div class=mines-header s:my-prefix-2187fbbc-0><img src=/assets/icons/mines.png height=14 width=14 alt s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0>MINES</p></div><div class=mines s:my-prefix-2187fbbc-0>'),ai=B("<option s:my-prefix-2187fbbc-0> "),ni=B('<div class=current-stats s:my-prefix-2187fbbc-0><div class="current-cashout gold-bg"s:my-prefix-2187fbbc-0><div class=coin-prefix s:my-prefix-2187fbbc-0><img src=/assets/icons/coin.svg height=16 width=18 alt s:my-prefix-2187fbbc-0></div><p s:my-prefix-2187fbbc-0></p></div><div class="current-multi gold-bg"s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0>x'),si=B('<button class="bevel-light random"s:my-prefix-2187fbbc-0>RANDOM TILE'),oi=B("<div s:my-prefix-2187fbbc-0><p s:my-prefix-2187fbbc-0></p><p class=multi s:my-prefix-2187fbbc-0>x</p><p class=amount-won s:my-prefix-2187fbbc-0><img src=/assets/icons/coin.svg height=18 s:my-prefix-2187fbbc-0> </p><div class=bar s:my-prefix-2187fbbc-0></div><button class=try s:my-prefix-2187fbbc-0>");const li="my-prefix-2187fbbc-0",ci='.mines-container[s\\:my-prefix-2187fbbc-0]{width:100%;max-width:1175px;box-sizing:border-box;padding:30px 0;margin:0 auto;display:flex;gap:20px}.mines-header[s\\:my-prefix-2187fbbc-0]{width:100%;min-height:80px;height:80px;background:linear-gradient(135deg,#2B2455 0%,#1E1A3A 100%);box-shadow:0px -2px 0px 0px #413972,0px 2px 15px 0px rgba(0,0,0,0.3);border-bottom:1px solid rgba(173,163,239,0.1);display:flex;align-items:center;gap:16px;padding:0 32px;color:#FFF;font-size:28px;font-weight:700;letter-spacing:1px;position:relative}.mines-header[s\\:my-prefix-2187fbbc-0]::before{content:"";position:absolute;left:0;top:0;width:6px;height:100%;background:linear-gradient(180deg,#59E878 0%,#29D64E 100%);box-shadow:0px 0px 12px rgba(89,232,120,0.6)}.mines-header[s\\:my-prefix-2187fbbc-0] img[s\\:my-prefix-2187fbbc-0]{width:36px;height:36px;filter:drop-shadow(0px 0px 12px rgba(89,232,120,0.5))}.mines-content[s\\:my-prefix-2187fbbc-0]{width:100%;max-width:860px;height:780px;max-height:100%;border-radius:20px;overflow:hidden;display:flex;flex-direction:column;align-items:center;position:relative;background:linear-gradient(238deg,#242043 0%,#251F4E 100%);box-shadow:0px 8px 32px rgba(0,0,0,0.4),inset 0px 1px 0px rgba(255,255,255,0.05);border:1px solid rgba(173,163,239,0.1)}.summary[s\\:my-prefix-2187fbbc-0]{height:-moz-fit-content;height:fit-content;position:absolute;z-index:2;display:flex;flex-direction:column;align-items:center;width:100%;max-width:340px;padding:28px 24px;top:0;bottom:0;margin:auto;color:#FFF;font-size:24px;font-weight:700;letter-spacing:0.5px;border-radius:16px;border:2px solid #FF5141;background:radial-gradient(139.03% 139.03%at 50% 50%,rgba(255,81,65,0.55) 0%,rgba(0,0,0,0.00) 100%),linear-gradient(0deg,rgba(11,12,11,0.35) 0%,rgba(11,12,11,0.35) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%);box-shadow:0px 2px 7px 0px rgba(0,0,0,0.25) inset,0px 0px 40px 0px rgba(255,81,65,0.65) inset,0px 8px 24px rgba(255,81,65,0.4);backdrop-filter:blur(10px);animation:my-prefix-2187fbbc-0-summaryAppear 0.4s cubic-bezier(0.34,1.56,0.64,1)}@keyframes my-prefix-2187fbbc-0-summaryAppear{from{transform:scale(0.85);opacity:0}to{transform:scale(1);opacity:1}}.summary[s\\:my-prefix-2187fbbc-0].win{border:2px solid #59E878;background:radial-gradient(139.03% 139.03%at 50% 50%,rgba(0,255,26,0.55) 0%,rgba(0,0,0,0.00) 100%),linear-gradient(0deg,rgba(11,12,11,0.35) 0%,rgba(11,12,11,0.35) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%);box-shadow:0px 2px 7px 0px rgba(0,0,0,0.25) inset,0px 0px 40px 0px rgba(10,182,47,0.65) inset,0px 8px 24px rgba(89,232,120,0.4)}.amount-won[s\\:my-prefix-2187fbbc-0]{color:#FFF;font-size:20px;display:flex;align-items:center;gap:10px;margin-top:4px}.bar[s\\:my-prefix-2187fbbc-0]{background:linear-gradient(90deg,rgba(217,217,217,0.00) 0%,#FF5141 47.26%,rgba(217,217,217,0.00) 95.02%);height:2px;width:100%;max-width:240px;box-shadow:0px 0px 8px rgba(255,81,65,0.6)}.win[s\\:my-prefix-2187fbbc-0] .bar[s\\:my-prefix-2187fbbc-0]{background:linear-gradient(90deg,rgba(217,217,217,0.00) 0%,#59E878 47.26%,rgba(217,217,217,0.00) 95.02%);box-shadow:0px 0px 8px rgba(89,232,120,0.6)}.multi[s\\:my-prefix-2187fbbc-0]{font-size:32px;text-shadow:0px 2px 10px rgba(255,81,65,0.5)}.win[s\\:my-prefix-2187fbbc-0] .multi[s\\:my-prefix-2187fbbc-0]{background:linear-gradient(213deg,#59E878 31.52%,#88FFA2 51.19%,#29D64E 64.47%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0px 2px 10px rgba(89,232,120,0.5)}.loss[s\\:my-prefix-2187fbbc-0] .multi[s\\:my-prefix-2187fbbc-0]{color:#FF5141}.try[s\\:my-prefix-2187fbbc-0]{border:unset;outline:unset;color:#FFF;font-family:Geogrotesque Wide,sans-serif;font-size:16px;font-weight:700;padding:0 28px;border-radius:8px;background:linear-gradient(180deg,#FF6B5E 0%,#FF5141 100%);box-shadow:0px 2px 0px 0px #97352C,0px -2px 0px 0px #FF8A80,0px 4px 16px rgba(255,81,65,0.4);height:44px;cursor:pointer;transition:all 0.2s}.try[s\\:my-prefix-2187fbbc-0]:hover{transform:translateY(-2px);box-shadow:0px 2px 0px 0px #97352C,0px -2px 0px 0px #FF8A80,0px 6px 20px rgba(255,81,65,0.5)}.try[s\\:my-prefix-2187fbbc-0]:active{transform:translateY(0px)}.win[s\\:my-prefix-2187fbbc-0] .try[s\\:my-prefix-2187fbbc-0]{color:#16412D;background:linear-gradient(180deg,#6AFF8E 0%,#59E878 100%);box-shadow:0px 2px 0px 0px #2A883E,0px -2px 0px 0px #78FF95,0px 4px 16px rgba(89,232,120,0.4)}.win[s\\:my-prefix-2187fbbc-0] .try[s\\:my-prefix-2187fbbc-0]:hover{box-shadow:0px 2px 0px 0px #2A883E,0px -2px 0px 0px #78FF95,0px 6px 20px rgba(89,232,120,0.5)}.mines[s\\:my-prefix-2187fbbc-0]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:18px;padding:32px;margin:auto 0;width:100%;max-width:680px;overflow:hidden}.betting-container[s\\:my-prefix-2187fbbc-0]{min-width:300px;width:300px;height:780px;max-height:100%;display:flex;flex-direction:column;gap:0;border-radius:20px;background:linear-gradient(277deg,#242043 -69.8%,#251F4E 144.89%);box-shadow:0px 8px 32px rgba(0,0,0,0.4),inset 0px 1px 0px rgba(255,255,255,0.05);border:1px solid rgba(173,163,239,0.1);overflow:hidden}.betting-header[s\\:my-prefix-2187fbbc-0]{width:100%;height:50px;color:#ADA3EF;font-size:13px;font-weight:700;line-height:50px;text-align:center;letter-spacing:1px;background:linear-gradient(135deg,#1E1A3A 0%,#16132A 100%);border-bottom:1px solid rgba(173,163,239,0.1);box-shadow:0px 2px 8px rgba(0,0,0,0.2)}.betting-options[s\\:my-prefix-2187fbbc-0]{display:flex;width:100%}.betting-option[s\\:my-prefix-2187fbbc-0]{outline:unset;border:unset;flex:1 1 0;height:43px;line-height:43px;text-align:center;background:#413976;box-shadow:0px 1px 0px 0px #1B1734,0px -1px 0px 0px #5B509E;font-family:"Geogrotesque Wide",sans-serif;color:#ADA3EF;font-size:13px;font-weight:700;cursor:pointer}.betting-option[s\\:my-prefix-2187fbbc-0].active{color:white;background:#1E1A3A;box-shadow:unset}.inputs[s\\:my-prefix-2187fbbc-0]{display:flex;flex-direction:column;padding:20px 14px;gap:18px}.input-wrapper[s\\:my-prefix-2187fbbc-0]{border-radius:8px;overflow:hidden;box-shadow:0px 2px 8px rgba(0,0,0,0.2)}.input-header[s\\:my-prefix-2187fbbc-0]{width:100%;height:36px;background:linear-gradient(135deg,#413976 0%,#383063 100%);color:#ADA3EF;font-size:12px;font-weight:700;letter-spacing:0.5px;display:flex;align-items:center;gap:8px;padding:0 12px;border-bottom:1px solid rgba(173,163,239,0.1)}.input-container[s\\:my-prefix-2187fbbc-0]{height:48px;border-radius:0px 0px 8px 8px;border:1px solid #3E3771;background:linear-gradient(135deg,#1F1A3C 0%,#18142E 100%);display:flex;align-items:center;gap:8px;padding:6px 12px;position:relative}.input-container[s\\:my-prefix-2187fbbc-0]::before{content:"";position:absolute;inset:0;border-radius:0px 0px 8px 8px;padding:1px;background:linear-gradient(135deg,rgba(173,163,239,0.1),rgba(173,163,239,0.02));-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}.modifier[s\\:my-prefix-2187fbbc-0]{height:100%;min-width:42px;color:#ADA3EF;font-family:Geogrotesque Wide,sans-serif;font-size:12px;font-weight:700;transition:all 0.2s}.modifier[s\\:my-prefix-2187fbbc-0]:hover{color:#FFF;transform:translateY(-1px)}.modifier[s\\:my-prefix-2187fbbc-0]:active{transform:translateY(0)}input[s\\:my-prefix-2187fbbc-0]{width:100%;height:100%;border:unset;outline:unset;background:unset;color:white;font-family:"Geogrotesque Wide",sans-serif;font-size:15px;font-weight:700}input[s\\:my-prefix-2187fbbc-0]:disabled{opacity:0.5;cursor:not-allowed}.select-container[s\\:my-prefix-2187fbbc-0]{position:relative}.mines-select[s\\:my-prefix-2187fbbc-0]{width:100%;height:100%;border:unset;outline:unset;background:unset;color:white;font-family:"Geogrotesque Wide",sans-serif;font-size:15px;font-weight:700;appearance:none;-webkit-appearance:none;-moz-appearance:none;cursor:pointer;padding-right:30px}.mines-select[s\\:my-prefix-2187fbbc-0]:disabled{opacity:0.5;cursor:not-allowed}.mines-select[s\\:my-prefix-2187fbbc-0] option[s\\:my-prefix-2187fbbc-0]{background:#1F1A3C;color:white;padding:14px 20px;font-size:14px;font-weight:600}.mines-select[s\\:my-prefix-2187fbbc-0] option[s\\:my-prefix-2187fbbc-0]:hover{background:#2A2550;color:#FF5555}.mines-select[s\\:my-prefix-2187fbbc-0] option[s\\:my-prefix-2187fbbc-0]:checked{background:#2A2550;color:#FF5555;font-weight:700}.mines-select[s\\:my-prefix-2187fbbc-0]::-webkit-scrollbar{width:8px}.mines-select[s\\:my-prefix-2187fbbc-0]::-webkit-scrollbar-track{background:#12101F;border-radius:4px;margin:2px}.mines-select[s\\:my-prefix-2187fbbc-0]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#FF5555 0%,#CC4444 100%);border-radius:4px;border:1px solid rgba(0,0,0,0.3)}.mines-select[s\\:my-prefix-2187fbbc-0]::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,#FF6666 0%,#DD5555 100%)}.dropdown-arrow[s\\:my-prefix-2187fbbc-0]{position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;color:#ADA3EF}.bet[s\\:my-prefix-2187fbbc-0],.random[s\\:my-prefix-2187fbbc-0]{height:48px;transition:all .2s;font-weight:700;border-radius:8px}button[s\\:my-prefix-2187fbbc-0]:disabled{opacity:0.5;cursor:not-allowed;transform:none!important}button[s\\:my-prefix-2187fbbc-0]:disabled:hover{transform:none!important}.random[s\\:my-prefix-2187fbbc-0]{background:linear-gradient(135deg,#4A4181 0%,#413976 100%);box-shadow:0px 3px 0px 0px #1B1734,0px -2px 0px 0px #5B509E,0px 4px 12px rgba(0,0,0,0.3);border:1px solid rgba(173,163,239,0.1)}.random[s\\:my-prefix-2187fbbc-0]:hover{transform:translateY(-2px);box-shadow:0px 3px 0px 0px #1B1734,0px -2px 0px 0px #5B509E,0px 6px 16px rgba(0,0,0,0.4)}.random[s\\:my-prefix-2187fbbc-0]:active{transform:translateY(0);box-shadow:0px 1px 0px 0px #1B1734,0px -1px 0px 0px #5B509E}.bet[s\\:my-prefix-2187fbbc-0].active{outline:unset;box-shadow:0px 4px 0px 0px #C87E0F,0px -2px 0px 0px #FFD666,0px 4px 20px rgba(252,163,30,0.5);border-radius:8px;border:2px solid #FCA31E;background:linear-gradient(135deg,rgba(252,163,30,0.35) 0%,rgba(252,163,30,0.25) 100%);color:#FCA31E;text-shadow:0px 2px 8px rgba(252,163,30,0.5)}.bet[s\\:my-prefix-2187fbbc-0].active:hover{transform:translateY(-2px);box-shadow:0px 4px 0px 0px #C87E0F,0px -2px 0px 0px #FFD666,0px 6px 24px rgba(252,163,30,0.6)}.bet[s\\:my-prefix-2187fbbc-0].active:active{transform:translateY(0)}.current-stats[s\\:my-prefix-2187fbbc-0]{display:flex;min-height:48px;gap:10px}.current-cashout[s\\:my-prefix-2187fbbc-0]{flex:1;height:100%;padding:0 12px;display:flex;gap:10px;align-items:center;color:#FFF;font-size:15px;font-weight:700}.coin-prefix[s\\:my-prefix-2187fbbc-0]{border-radius:8px;border:1px solid #B17818;background:linear-gradient(0deg,rgba(0,0,0,0.20) 0%,rgba(0,0,0,0.20) 100%),linear-gradient(0deg,rgba(255,190,24,0.35) 0%,rgba(255,190,24,0.35) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%);box-shadow:0px 0px 12px rgba(255,190,24,0.3),inset 0px 1px 3px rgba(255,190,24,0.2);height:36px;width:36px;display:flex;align-items:center;justify-content:center}.current-multi[s\\:my-prefix-2187fbbc-0]{height:100%;padding:0 16px;color:#FFF;font-size:15px;font-weight:700;line-height:48px}.gold-bg[s\\:my-prefix-2187fbbc-0]{border-radius:8px;background:linear-gradient(180deg,rgba(177,120,24,0.6),rgba(156,99,15,0.4),rgba(126,80,12,0.3),rgba(102,65,10,0.4),rgba(177,120,24,0.6),rgba(255,220,24,0.6),rgba(255,220,24,0.5));position:relative;z-index:0;box-shadow:0px 4px 16px rgba(255,190,24,0.3)}.gold-bg[s\\:my-prefix-2187fbbc-0]:before{position:absolute;top:1px;left:1px;content:"";z-index:-1;border-radius:8px;width:calc(100% - 2px);height:calc(100% - 2px);background:linear-gradient(0deg,rgba(255,190,24,0.35) 0%,rgba(255,190,24,0.35) 100%),linear-gradient(253deg,#1A0E33 -27.53%,#423C7A 175.86%)}.current-multi[s\\:my-prefix-2187fbbc-0] p[s\\:my-prefix-2187fbbc-0]{background:linear-gradient(53deg,#F90 54.58%,#F9AC39 69.11%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0px 2px 8px rgba(255,153,0,0.4);filter:drop-shadow(0px 2px 8px rgba(255,153,0,0.4))}@keyframes my-prefix-2187fbbc-0-pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}@media only screen and (max-width:1000px){.mines-container[s\\:my-prefix-2187fbbc-0]{padding-bottom:90px}}@media only screen and (max-width:800px){.mines-container[s\\:my-prefix-2187fbbc-0]{flex-direction:column}.betting-container[s\\:my-prefix-2187fbbc-0]{width:100%;gap:0;height:-moz-fit-content;height:fit-content}.inputs[s\\:my-prefix-2187fbbc-0]{padding:16px 10px}}@media only screen and (max-width:600px){.mines[s\\:my-prefix-2187fbbc-0]{grid-gap:12px}}';function pi(n){const i=Ne();Xe(),He();const[m,y]=h(100),[$,N]=h(3),[g,v]=h([]),[te,P]=h([]),[o,{mutate:S}]=Je(X),[C,j]=h(!1),[ae,s]=h(null);let b=new Audio("/assets/sfx/winorcashout.mp3");async function X(){let t=await re("/mines","GET",null);return!t||!t.activeGame?null:(t=t.activeGame,y(t.amount),v(t.revealedTiles),N(t.minesCount),t.active=!0,t)}async function H(){console.log("[MINES FRONTEND] Cashout function called"),console.log("[MINES FRONTEND] Calling /mines/cashout API");let t=await re("/mines/cashout","POST",null,!0);console.log("[MINES FRONTEND] Cashout response:",t),t&&t.success?(console.log("[MINES FRONTEND] Cashout successful, calling cashoutGame"),J(t)):(console.log("[MINES FRONTEND] Cashout failed:",t),t&&t.error?k("error",`Cashout failed: ${t.error}`):k("error","Cashout failed. Please try again."))}async function J(t){console.log("[MINES FRONTEND] cashoutGame called with:",t),S({...o(),payout:t.payout,multiplier:t.multiplier,active:!1}),v([...g()]),b.play(),P(t.minePositions||[]),k("success",`You won R$${U(t.payout)} from your mines round!`),console.log("[MINES FRONTEND] Game state after cashout:",{active:!1,payout:t.payout,revealed:g().length})}async function x(){console.log("[MINES FRONTEND] Starting new game..."),S(null),v([]),P([]),s(null);const t=$();if(!t||t<1||t>24){k("error","Please select between 1 and 24 mines");return}try{let c=await re("/mines/start","POST",JSON.stringify({amount:m(),minesCount:t}),!0);console.log("[MINES FRONTEND] Start game response:",c),c&&c.success?(S({amount:m(),multiplier:1,currentPayout:m(),active:!0}),console.log("[MINES FRONTEND] Game started successfully"),k("success","Successfully started a mines round.")):(console.log("[MINES FRONTEND] Start game failed:",c),c&&c.error&&k("error",`Failed to start: ${c.error}`))}catch(c){console.error("[MINES FRONTEND] Start game error:",c),k("error","Failed to start game. Please try again.")}}function V(){let t;for(;!t||g().includes(t);)t=Math.floor(Math.random()*25);s(t)}function K(t){let c=Math.max(0,Math.min(n?.user?.balance,m()+t));isNaN(c)&&(c=0),c=Math.floor(c*100)/100,y(c)}return Se(li,1,ci),[z(Ve,{children:"BloxRazon | Mines"}),z(Fe,{name:"title",content:"Mines"}),z(Fe,{name:"description",content:"Play Mines On BloxRazon And Multiply Your Robux By 100x On The Best Roblox Gaming Platform"}),(()=>{var t=ti(),c=t.firstChild,G=c.firstChild,ne=G.firstChild,Q=G.nextSibling,se=Q.firstChild,oe=se.firstChild,Ce=oe.firstChild,ge=oe.nextSibling,me=ge.firstChild,Y=me.nextSibling,Z=Y.nextSibling,ee=Z.nextSibling,le=ee.nextSibling,ce=se.nextSibling,xe=ce.firstChild,Me=xe.firstChild,ue=xe.nextSibling,M=ue.firstChild,he=M.nextSibling,Te=he.firstChild,T=ce.nextSibling,be=c.nextSibling,pe=be.firstChild,ye=pe.firstChild,Re=ye.nextSibling,de=pe.nextSibling;return Y.$$input=e=>y(e.target.valueAsNumber),Z.$$click=()=>K(-m()/2),ee.$$click=()=>K(m()),le.$$click=()=>y(n?.user?.balance||0),M.addEventListener("change",e=>N(parseInt(e.target.value))),p(M,z(Ee,{get each(){return Array.from({length:24},(e,l)=>l+1)},children:e=>(()=>{var l=ai(),d=l.firstChild;return l.value=e,p(l,e,d),p(l,e===1?"Mine":"Mines",null),F(f=>r(l,i(),f)),l})()})),p(Q,(()=>{var e=fe(()=>!!o()?.active);return()=>e()&&(()=>{var l=ni(),d=l.firstChild,f=d.firstChild,_=f.firstChild,u=f.nextSibling,E=d.nextSibling,w=E.firstChild,A=w.firstChild;return p(u,()=>U(o()?.currentPayout||0)),p(w,()=>U(o()?.multiplier||0),A),F(a=>{var R=i(),O=i(),W=i(),D=i(),q=i(),I=i(),L=i();return a.e=r(l,R,a.e),a.t=r(d,O,a.t),a.a=r(f,W,a.a),a.o=r(_,D,a.o),a.i=r(u,q,a.i),a.n=r(E,I,a.n),a.s=r(w,L,a.s),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),l})()})(),T),T.$$click=async()=>{if(console.log("[MINES FRONTEND] Button clicked. Processing:",C(),"Game active:",o()?.active,"Revealed count:",g().length),C()||!n.user){console.log("[MINES FRONTEND] Blocked - Processing or no user");return}if(o()?.active&&g().length<1){console.log("[MINES FRONTEND] Blocked - Need at least 1 tile revealed");return}try{j(!0),!o()||!o().active?(console.log("[MINES FRONTEND] Starting new game"),await x()):(console.log("[MINES FRONTEND] Calling cashout function"),await H())}catch(e){console.error("[MINES FRONTEND] Button handler error:",e),k("error","An error occurred. Please try again.")}finally{j(!1)}},p(T,()=>o()?.active?"CASHOUT":"PLACE BET"),p(Q,(()=>{var e=fe(()=>!!o()?.active);return()=>e()&&(()=>{var l=si();return l.$$click=()=>V(),F(d=>r(l,i(),d)),l})()})(),null),p(be,(()=>{var e=fe(()=>!!(o()&&!o().active));return()=>e()&&(()=>{var l=oi(),d=l.firstChild,f=d.nextSibling,_=f.firstChild,u=f.nextSibling,E=u.firstChild;E.nextSibling;var w=u.nextSibling,A=w.nextSibling;return p(d,()=>o()?.payout?"YOU WON":"YOU LOST"),p(f,()=>U(o()?.multiplier||0),_),p(u,()=>U(o()?.payout||-o()?.amount||0),null),A.$$click=()=>x(),p(A,()=>o()?.payout?"PLAY AGAIN":"TRY AGAIN"),F(a=>{var R="summary "+(o().payout?"win":"loss"),O=i(),W=i(),D=i(),q=i(),I=i(),L=Ke({margin:"16px 0"},i()),ie=i();return R!==a.e&&Qe(l,a.e=R),a.t=r(l,O,a.t),a.a=r(d,W,a.a),a.o=r(f,D,a.o),a.i=r(u,q,a.i),a.n=r(E,I,a.n),a.s=r(w,L,a.s),a.h=r(A,ie,a.h),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),l})()})(),de),p(de,z(Ee,{get each(){return Array.from(Array(25))},children:(e,l)=>z(ri,{get index(){return l()},get revealed(){return g()},get bombs(){return te()},get game(){return o()},setGame:S,setRevealed:v,setBombs:P,get random(){return ae()},cashoutGame:J})})),F(e=>{var l=i(),d=i(),f=i(),_=i(),u=i(),E=i(),w=i(),A=i(),a=i(),R=i(),O=o()?.active,W=i(),D=o()?.active,q=i(),I=o()?.active,L=i(),ie=o()?.active,Oe=i(),De=i(),Ie=i(),ze=i(),Be=i(),ve=o()?.active,$e=i(),Pe=i(),Ge=i(),we="bevel-gold bet "+(o()?.active?"active":""),ke=C()||o()?.active&&g().length<1,Ye=i(),_e=i(),We=i(),qe=i(),Le=i(),Ue=i();return e.e=r(t,l,e.e),e.t=r(c,d,e.t),e.a=r(G,f,e.a),e.o=r(ne,_,e.o),e.i=r(Q,u,e.i),e.n=r(se,E,e.n),e.s=r(oe,w,e.s),e.h=r(Ce,A,e.h),e.r=r(ge,a,e.r),e.d=r(me,R,e.d),O!==e.l&&(Y.disabled=e.l=O),e.u=r(Y,W,e.u),D!==e.c&&(Z.disabled=e.c=D),e.w=r(Z,q,e.w),I!==e.m&&(ee.disabled=e.m=I),e.f=r(ee,L,e.f),ie!==e.y&&(le.disabled=e.y=ie),e.g=r(le,Oe,e.g),e.p=r(ce,De,e.p),e.b=r(xe,Ie,e.b),e.T=r(Me,ze,e.T),e.A=r(ue,Be,e.A),ve!==e.O&&(M.disabled=e.O=ve),e.I=r(M,$e,e.I),e.S=r(he,Pe,e.S),e.W=r(Te,Ge,e.W),we!==e.C&&(T.className=e.C=we),ke!==e.B&&(T.disabled=e.B=ke),e.v=r(T,Ye,e.v),e.k=r(be,_e,e.k),e.x=r(pe,We,e.x),e.j=r(ye,qe,e.j),e.q=r(Re,Le,e.q),e.z=r(de,Ue,e.z),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0}),F(()=>Y.value=m()),F(()=>M.value=$()),t})()]}Ae(["input","click"]);export{pi as default};
