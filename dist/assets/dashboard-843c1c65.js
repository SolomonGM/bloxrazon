import{c as z,j as q,k as X,o as j,d as I,l as V,i as b,m as R,e as C,g as A,s,t as $,n as B,p as K,f as P,L as O,S as M}from"./index-629dd9a8.js";import{A as Q}from"./adminmfa-7f7ff937.js";var U=$("<div s:my-prefix-12846872-0><canvas s:my-prefix-12846872-0>"),J=$("<div class=tooltip s:my-prefix-12846872-0><p s:my-prefix-12846872-0> - </p><p s:my-prefix-12846872-0> Players");const Z="my-prefix-12846872-0",ee=".tooltip[s\\:my-prefix-12846872-0]{text-align:center;border-radius:7px;background:#231F43;width:240px;max-width:240px;height:90px;color:#ADA3EF;font-family:Geogrotesque Wide,sans-serif;font-size:16px;font-weight:500;padding:10px 15px}";function te(d){const n=z();let g;const[u,E]=q(null);function T(){return Math.max(...d.data.map(r=>r.players))}const a=r=>{const i=r.getContext("2d");i.clearRect(0,0,r.width,r.height);const e=10,o=10,m=10,h=r.width-o-m,f=r.height-e,p=T();if(i.fillStyle="rgba(60, 50, 126, 0.35)",i.beginPath(),d?.data.length>0){const l=d?.data[0],t=o,y=e+(1-l.players/p)*f;i.moveTo(t,y);for(let v=1;v<d?.data.length;v++){const _=d?.data[v],S=o+v/(d?.data.length-1)*h,F=e+(1-_.players/p)*f;i.lineTo(S,F)}}i.lineTo(o+h,e+f),i.lineTo(o,e+f),i.closePath(),i.fill(),i.strokeStyle="#6155A1",i.beginPath();for(let l=0;l<d?.data.length;l++){const t=d?.data[l],y=o+l/(d?.data.length-1)*h,v=e+(1-t.players/p)*f;l===0?i.moveTo(y,v):i.lineTo(y,v)}i.stroke(),i.strokeStyle="rgba(67, 61, 107, 0.75)",i.lineWidth=1;for(let l=1;l<d?.data.length-1;l++){const t=o+l/(d?.data.length-1)*h;i.beginPath(),i.moveTo(t,0),i.lineTo(t,e+f),i.stroke()}const x=Math.min(5,p);for(let l=1;l<=x;l++){const t=e+(1-l/x)*f;i.beginPath(),i.moveTo(0,t),i.lineTo(r.width,t),i.stroke()}i.fillStyle="white";for(let l=0;l<d?.data.length;l++){const t=d?.data[l],y=o+l/(d?.data.length-1)*h,v=e+(1-t.players/p)*f;i.beginPath(),i.arc(y,v,4,0,2*Math.PI),i.fill()}r.addEventListener("mousemove",w);function w(l){const t=r.getBoundingClientRect(),y=l.clientX-t.left,v=l.clientY-t.top;let _=null;for(let S=0;S<d?.data.length;S++){const F=d?.data[S],k=o+S/(d?.data.length-1)*h,D=e+(1-F.players/p)*f;if(Math.sqrt((y-k)**2+(v-D)**2)<4){_={...F,x:k};break}}E(_)}};X(()=>{const r=g.parentElement;window.addEventListener("resize",c),setTimeout(()=>{g.width=r.clientWidth,g.height=r.clientHeight,d?.data&&a(g)},0)});const c=()=>{const r=g.parentElement;g.width=r.clientWidth,g.height=r.clientHeight,a(g)};return j(()=>{window.removeEventListener("resize",c)}),I(Z,1,ee),(()=>{var r=U(),i=r.firstChild;return V(e=>g=e,i),b(r,(()=>{var e=R(()=>!!u());return()=>e()&&(()=>{var o=J(),m=o.firstChild,h=m.firstChild,f=m.nextSibling,p=f.firstChild;return b(m,()=>u().from,h),b(m,()=>u().to,null),b(f,()=>u().players,p),C(x=>{var w=A({position:"absolute",top:(1-u().players/T())*100+"%",left:`calc(${u().x}px - 120px)`,transform:"translateY(-100px)"},n()),l=n(),t=n();return x.e=s(o,w,x.e),x.t=s(m,l,x.t),x.a=s(f,t,x.a),x},{e:void 0,t:void 0,a:void 0}),o})()})(),null),C(e=>{var o=A({width:"100%",height:"100%",position:"relative"},n()),m=A({width:"100%",height:"100%"},n());return e.e=s(r,o,e.e),e.t=s(i,m,e.t),e},{e:void 0,t:void 0}),r})()}var ie=$('<div class=stats s:my-prefix-a73faef9-0><div class=stat s:my-prefix-a73faef9-0><p class="white align"s:my-prefix-a73faef9-0>$</p><p s:my-prefix-a73faef9-0>PROFIT ON DAY</p></div><div class=stat s:my-prefix-a73faef9-0><p class="white align"s:my-prefix-a73faef9-0>$</p><p s:my-prefix-a73faef9-0>PROFIT ON WEEK</p></div><div class=stat s:my-prefix-a73faef9-0><p class="white align"s:my-prefix-a73faef9-0>$</p><p s:my-prefix-a73faef9-0>PROFIT ON MONTH</p></div><div class="stat green"s:my-prefix-a73faef9-0><p class="white align"s:my-prefix-a73faef9-0>$</p><p class=green s:my-prefix-a73faef9-0>OVERALL PROFIT'),ae=$("<div class=bar s:my-prefix-a73faef9-0>"),re=$("<div class=banner s:my-prefix-a73faef9-0><img src=/assets/icons/logoswords.png width=25 height=19 alt s:my-prefix-a73faef9-0><p s:my-prefix-a73faef9-0>GROWTH</p><div class=line s:my-prefix-a73faef9-0>"),ne=$("<div class=graph s:my-prefix-a73faef9-0>"),se=$("<div class=banner s:my-prefix-a73faef9-0><img src=/assets/icons/logoswords.png width=25 height=19 alt s:my-prefix-a73faef9-0><p s:my-prefix-a73faef9-0>DEMOGRAPHIC</p><div class=line s:my-prefix-a73faef9-0>"),le=$("<div class=demographics s:my-prefix-a73faef9-0>");const oe="my-prefix-a73faef9-0",fe=".stats[s\\:my-prefix-a73faef9-0]{display:flex;flex-wrap:wrap;gap:8px}.stat[s\\:my-prefix-a73faef9-0]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;flex:1 1 0;height:90px;border-radius:5px;background:rgba(90,84,153,0.27);color:#FFF;font-family:Geogrotesque Wide,sans-serif;font-size:20px;font-weight:600;padding:10px 20px}.stat[s\\:my-prefix-a73faef9-0].green{background:rgba(89,232,120,0.15)}.stat[s\\:my-prefix-a73faef9-0] p[s\\:my-prefix-a73faef9-0]:last-child{color:#ADA3EF;font-size:13px;font-weight:600}.align[s\\:my-prefix-a73faef9-0]{display:flex;align-items:center;gap:8px}.green[s\\:my-prefix-a73faef9-0]{color:#59E878!important}.bar[s\\:my-prefix-a73faef9-0]{width:100%;height:1px;min-height:1px;background:#5A5499}.banner[s\\:my-prefix-a73faef9-0]{outline:unset;border:unset;width:100%;height:45px;border-radius:5px;background:linear-gradient(90deg,rgb(104,100,164) -49.01%,rgba(90,84,149,0.655) -5.08%,rgba(66,53,121,0) 98.28%);padding:0 15px;display:flex;align-items:center;gap:12px;color:white;font-size:22px;font-weight:600;margin-bottom:30px}.line[s\\:my-prefix-a73faef9-0]{flex:1;height:1px;border-radius:2525px;background:linear-gradient(90deg,#5A5499 0%,rgba(90,84,153,0.00) 100%)}.banner[s\\:my-prefix-a73faef9-0]{outline:unset;border:unset;width:100%;height:45px;border-radius:5px;background:linear-gradient(90deg,rgb(104,100,164) -49.01%,rgba(90,84,149,0.655) -5.08%,rgba(66,53,121,0) 98.28%);padding:0 15px;display:flex;align-items:center;gap:12px;color:white;font-size:22px;font-weight:600;margin:35px 0}.line[s\\:my-prefix-a73faef9-0]{flex:1;height:1px;border-radius:2525px;background:linear-gradient(90deg,#5A5499 0%,rgba(90,84,153,0.00) 100%)}.graph[s\\:my-prefix-a73faef9-0]{width:100%;height:235px;border-radius:15px;background:#2D2755}";function ce(d){const n=z(),[g,{mutate:u,refetch:E}]=B(T);async function T(){try{let a=await K("/admin/dashboard","GET",null);return a.error&&a.error==="2FA_REQUIRED"?u({mfa:!0}):(a.growth&&(a.growth=a.growth.reverse()),u(a))}catch(a){return console.log(a),u(null)}}return I(oe,1,fe),[R(()=>R(()=>!!g()?.mfa)()&&P(Q,{refetch:()=>E()})),P(M,{get when(){return!g.loading},get fallback(){return P(O,{})},get children(){var a=ie(),c=a.firstChild,r=c.firstChild;r.firstChild;var i=r.nextSibling,e=c.nextSibling,o=e.firstChild;o.firstChild;var m=o.nextSibling,h=e.nextSibling,f=h.firstChild;f.firstChild;var p=f.nextSibling,x=h.nextSibling,w=x.firstChild;w.firstChild;var l=w.nextSibling;return b(r,()=>(g()?.profit?.lastDay||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(o,()=>(g()?.profit?.last7d||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(f,()=>(g()?.profit?.last31d||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(w,()=>(g()?.profit?.total||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),C(t=>{var y=n(),v=n(),_=n(),S=n(),F=n(),k=n(),D=n(),L=n(),W=n(),H=n(),G=n(),Y=n(),N=n();return t.e=s(a,y,t.e),t.t=s(c,v,t.t),t.a=s(r,_,t.a),t.o=s(i,S,t.o),t.i=s(e,F,t.i),t.n=s(o,k,t.n),t.s=s(m,D,t.s),t.h=s(h,L,t.h),t.r=s(f,W,t.r),t.d=s(p,H,t.d),t.l=s(x,G,t.l),t.u=s(w,Y,t.u),t.c=s(l,N,t.c),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),a}}),(()=>{var a=ae();return C(c=>s(a,A({margin:"30px 0 10px 0"},n()),c)),a})(),(()=>{var a=re(),c=a.firstChild,r=c.nextSibling,i=r.nextSibling;return C(e=>{var o=n(),m=n(),h=n(),f=n();return e.e=s(a,o,e.e),e.t=s(c,m,e.t),e.a=s(r,h,e.a),e.o=s(i,f,e.o),e},{e:void 0,t:void 0,a:void 0,o:void 0}),a})(),(()=>{var a=ne();return b(a,P(M,{get when(){return!g.loading},get fallback(){return P(O,{})},get children(){return P(te,{get data(){return g()?.growth||[]}})}})),C(c=>s(a,n(),c)),a})(),(()=>{var a=se(),c=a.firstChild,r=c.nextSibling,i=r.nextSibling;return C(e=>{var o=n(),m=n(),h=n(),f=n();return e.e=s(a,o,e.e),e.t=s(c,m,e.t),e.a=s(r,h,e.a),e.o=s(i,f,e.o),e},{e:void 0,t:void 0,a:void 0,o:void 0}),a})(),(()=>{var a=le();return C(c=>s(a,n(),c)),a})()]}export{ce as default};
